# -*- mode: ruby -*-
# vi: set ft=ruby
Vagrant.configure("2") do |config|
  # Use Ubuntu 18.04 (Bionic) base box
  config.vm.box = "ubuntu/bionic64"

  # VM resources
  config.vm.provider "virtualbox" do |vb|
    vb.name = "JavaHelloWorldVM"
    vb.memory = "1024"
    vb.cpus = 2
  end


  # Sync build/libs folder from host to guest
    config.vm.synced_folder "build/libs", "/home/vagrant/app"
    config.vm.synced_folder ".", "/home/vagrant/project"

  # Provisioning script
  config.vm.provision "shell", inline: <<-SHELL
    set -e
    sudo apt-get update -y
    sudo apt-get install -y openjdk-8-jdk
    cd /home/vagrant/app
      java -jar my-application-1.0.jar
 
  SHELL
end
